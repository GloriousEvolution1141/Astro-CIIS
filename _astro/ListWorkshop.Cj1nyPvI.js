import{j as t}from"./jsx-runtime.2X-s0L5T.js";import{r as i}from"./index.DeEakWXg.js";import{U as m}from"./endpoints.YAtkopGN.js";import{u as p}from"./use-auth.BgualKyw.js";import{C as d}from"./card-workshop.CIEaruYN.js";import{A as l}from"./AuthContext.DrhUL17i.js";import"./auth.C1-9IHhM.js";const u=()=>{const{user:n}=p(),[a,o]=i.useState();return i.useEffect(()=>{(async()=>{try{const r=await fetch(m.workshop.src);if(!r.ok)throw new Error("Error en la respuesta de la API");const s=await r.json();o(s)}catch(r){console.error("Error al obtener los datos de los talleres:",r)}})()},[]),t.jsx(t.Fragment,{children:a&&a.map((e,r)=>{let s=n?.talleres.find(c=>c.id==e.id);return t.jsx(d,{id:e.id,title:e.name,date:e.date,start:e.start,end:e.end,start_2:e.start_2,end_2:e.end_2,location:e.place,requirements:e.requirements,price:e.price,degree_speaker:e.speaker.degree_speaker,name_speaker:e.speaker.name_speaker,lastname_speaker:e.speaker.lastname_speaker,src_speaker:`https://ciistacna.com/${e.speaker.dir_img_speaker}`,src_workshop:"https://i.imgur.com/89Wsfpc.jpeg",avaible:e.avaible,registered:!!s,state:s?.state},r)})})},E=()=>t.jsx(l,{children:t.jsx(u,{})});export{E as default};
